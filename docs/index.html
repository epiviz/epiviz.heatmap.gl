<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/jkanche/epiviz.heatmap.js" target="_blank" class="menu-item" id="repository" >Github repo</a></h2><h2><a href="https://www.jkanche.com/epiviz.heatmap.gl/" target="_blank" class="menu-item" id="demo" >Demo</a></h2><h3>Classes</h3><ul><li><a href="BaseGL.html">BaseGL</a><ul class='methods'><li data-type='method' style='display: none;'><a href="BaseGL.html#_generateSpecForEncoding">_generateSpecForEncoding</a></li><li data-type='method' style='display: none;'><a href="BaseGL.html#attachResizeEvent">attachResizeEvent</a></li><li data-type='method' style='display: none;'><a href="BaseGL.html#calcBounds">calcBounds</a></li><li data-type='method' style='display: none;'><a href="BaseGL.html#clickCallback">clickCallback</a></li><li data-type='method' style='display: none;'><a href="BaseGL.html#generateSpec">generateSpec</a></li><li data-type='method' style='display: none;'><a href="BaseGL.html#hoverCallback">hoverCallback</a></li><li data-type='method' style='display: none;'><a href="BaseGL.html#render">render</a></li><li data-type='method' style='display: none;'><a href="BaseGL.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="BaseGL.html#selectionCallback">selectionCallback</a></li><li data-type='method' style='display: none;'><a href="BaseGL.html#setInput">setInput</a></li><li data-type='method' style='display: none;'><a href="BaseGL.html#setInteraction">setInteraction</a></li><li data-type='method' style='display: none;'><a href="BaseGL.html#setState">setState</a></li></ul></li><li><a href="BaseGL.BaseGL.html">BaseGL.BaseGL</a></li><li><a href="DotplotGL.html">DotplotGL</a><ul class='methods'><li data-type='method' style='display: none;'><a href="DotplotGL.html#_generateSpecForEncoding">_generateSpecForEncoding</a></li><li data-type='method' style='display: none;'><a href="DotplotGL.html#attachResizeEvent">attachResizeEvent</a></li><li data-type='method' style='display: none;'><a href="DotplotGL.html#calcBounds">calcBounds</a></li><li data-type='method' style='display: none;'><a href="DotplotGL.html#clickCallback">clickCallback</a></li><li data-type='method' style='display: none;'><a href="DotplotGL.html#generateSpec">generateSpec</a></li><li data-type='method' style='display: none;'><a href="DotplotGL.html#hoverCallback">hoverCallback</a></li><li data-type='method' style='display: none;'><a href="DotplotGL.html#render">render</a></li><li data-type='method' style='display: none;'><a href="DotplotGL.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="DotplotGL.html#selectionCallback">selectionCallback</a></li><li data-type='method' style='display: none;'><a href="DotplotGL.html#setInput">setInput</a></li><li data-type='method' style='display: none;'><a href="DotplotGL.html#setInteraction">setInteraction</a></li><li data-type='method' style='display: none;'><a href="DotplotGL.html#setState">setState</a></li></ul></li><li><a href="DotplotGL.DotplotGL.html">DotplotGL.DotplotGL</a></li><li><a href="RectplotGL.html">RectplotGL</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RectplotGL.html#_generateSpecForEncoding">_generateSpecForEncoding</a></li><li data-type='method' style='display: none;'><a href="RectplotGL.html#attachResizeEvent">attachResizeEvent</a></li><li data-type='method' style='display: none;'><a href="RectplotGL.html#calcBounds">calcBounds</a></li><li data-type='method' style='display: none;'><a href="RectplotGL.html#clickCallback">clickCallback</a></li><li data-type='method' style='display: none;'><a href="RectplotGL.html#generateSpec">generateSpec</a></li><li data-type='method' style='display: none;'><a href="RectplotGL.html#hoverCallback">hoverCallback</a></li><li data-type='method' style='display: none;'><a href="RectplotGL.html#render">render</a></li><li data-type='method' style='display: none;'><a href="RectplotGL.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="RectplotGL.html#selectionCallback">selectionCallback</a></li><li data-type='method' style='display: none;'><a href="RectplotGL.html#setInput">setInput</a></li><li data-type='method' style='display: none;'><a href="RectplotGL.html#setInteraction">setInteraction</a></li><li data-type='method' style='display: none;'><a href="RectplotGL.html#setState">setState</a></li></ul></li><li><a href="TickplotGL.html">TickplotGL</a><ul class='methods'><li data-type='method' style='display: none;'><a href="TickplotGL.html#_generateSpecForEncoding">_generateSpecForEncoding</a></li><li data-type='method' style='display: none;'><a href="TickplotGL.html#attachResizeEvent">attachResizeEvent</a></li><li data-type='method' style='display: none;'><a href="TickplotGL.html#calcBounds">calcBounds</a></li><li data-type='method' style='display: none;'><a href="TickplotGL.html#clickCallback">clickCallback</a></li><li data-type='method' style='display: none;'><a href="TickplotGL.html#generateSpec">generateSpec</a></li><li data-type='method' style='display: none;'><a href="TickplotGL.html#hoverCallback">hoverCallback</a></li><li data-type='method' style='display: none;'><a href="TickplotGL.html#render">render</a></li><li data-type='method' style='display: none;'><a href="TickplotGL.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="TickplotGL.html#selectionCallback">selectionCallback</a></li><li data-type='method' style='display: none;'><a href="TickplotGL.html#setInput">setInput</a></li><li data-type='method' style='display: none;'><a href="TickplotGL.html#setInteraction">setInteraction</a></li><li data-type='method' style='display: none;'><a href="TickplotGL.html#setState">setState</a></li></ul></li><li><a href="TickplotGL.TickplotGL.html">TickplotGL.TickplotGL</a></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1>epiviz.heatmap.gl</h1>
<p>A fast and scalable WebGL2 based rendering library for visualizing heatmaps/dot plots. The library uses <a href="https://github.com/epiviz/epiviz.gl">epiviz.gl</a> under the hood and provides an easier interface for use in various applications.</p>
<p>Internally, the library creates two WebWorkers</p>
<ul>
<li>data worker: indexes the data points using <a href="https://github.com/mourner/flatbush">flatbush</a></li>
<li>webgl worker: all the rendering magic happens here</li>
</ul>
<p><code>epiviz.gl</code> uses <a href="https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas">OffScreenCanvas</a> to delegate rendering to a worker. since the main thread of the browser is less busy, this provides a fluid, high-performance user experience for applications.</p>
<h2>Getting started</h2>
<h3>Installation</h3>
<p>package is available through <a href="https://www.npmjs.com/package/epiviz.heatmap.gl">npm</a></p>
<pre class="prettyprint source lang-sh"><code>  npm install epiviz.heatmap.gl
</code></pre>
<h3>Usage</h3>
<ul>
<li><a href="./app/index.html">app/index.html</a> provides an easier example and code on how to use the library</li>
<li>If you want to use the library in a react app, check usage in <a href="ww.github.com/jkanche/kana">Kana</a></li>
</ul>
<h3>Types of Plots</h3>
<p>The library provides three ways of rendering heatmap layout plots.</p>
<ul>
<li><code>RectplotGL</code> - for traditional heatmaps</li>
<li><code>DotplotGL</code> - for making dot plot like plots, <a href="https://divingintogeneticsandgenomics.rbind.io/post/clustered-dotplot-for-single-cell-rnaseq/">reference</a></li>
<li><code>TickplotGL</code> - Tick plots are extremely fast at quickly rendering large amounts of data, helpful for rendering interactive <a href="https://www.bioinformatics.babraham.ac.uk/projects/seqmonk/Help/3%20Visualisation/3.2%20Figures%20and%20Graphs/3.2.12%20The%20HiC%20Heatmap%20Plot.html#:~:text=The%20HiC%20heatmap%20plot%20is,DataStore%20is%20a%20HiC%20dataset.">HiC like plots</a>.</li>
</ul>
<p><img src="./assets/epiviz.heatmap.gl.png" alt="Demo"></p>
<p>The API is same for all these plots.</p>
<pre class="prettyprint source lang-js"><code>import { DotplotGL, RectplotGL, TickplotGL } from &quot;./index.js&quot;;

// you can either pass in a dom selector or HTMLElement
let plot = new DotplotGL(&quot;.canvas&quot;);

// provide input data to the element, 
// data must contain x (as `rows`) and y (as `columns`)
// you can also provide x and y labels
plot.setInput({
  x: [...],
  y: [...],
  xlabels: [],
  ylabels: [],
});

// render the plot
plot.render();
</code></pre>
<h3>Advanced Usage</h3>
<p>The library provides methods to capture events and modify attributes</p>
<h4>Interaction modes</h4>
<p>Supports three modes</p>
<ul>
<li><code>pan</code> - no selection, pan (<code>drag</code>)/zoom (<code>wheel</code>) the canvas</li>
<li><code>box</code> - box selections, no pan but allows zoom (<code>wheel</code>)</li>
<li><code>lasso</code> - same as box, no pan but allows zoom (<code>wheel</code>)</li>
</ul>
<pre class="prettyprint source lang-js"><code>  plot.setInteraction(&quot;pan&quot;);
</code></pre>
<h4>Events</h4>
<ul>
<li>hoverCallback</li>
<li>clickCallback</li>
<li>selectionCallback</li>
</ul>
<p><strong><em>hover and click also provide the distance of the point from the mouse location. This metric can be used to enable various interactions.</em></strong></p>
<pre class="prettyprint source lang-js"><code>plot.hoverCallback = function (point) {
  if (point) {
    //   use some threshold (1.5)
    if (point.distance &lt;= 1.5) {
      console.log(`${point} is closest`);
    }
  }
};

plot.selectionCallback = function (points) {
  // ... do something ...
  console.log(points);
};
</code></pre>
<h4>Encodings</h4>
<p>These attributes either take a fixed value or an array of values for each data point.</p>
<ul>
<li><code>color</code> - color/rgb/hex code</li>
<li><code>size</code> - size of each dot</li>
<li><code>opacity</code> - opacity across the entire plot</li>
<li><code>xgap</code> or <code>ygap</code> - gap between rows and columns</li>
</ul>
<pre class="prettyprint source lang-js"><code>  plot.setState({
    size: &lt;SIZE>
    color: &lt;COLOR>
    xgap: &lt;GAPS>,
    ygap: &lt;GAPS>,
    opacity: &lt;OPACITY>
  });
</code></pre></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.11</a> on Wed Feb 08 2023 06:39:06 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>